FROM confluentinc/cp-server:5.5.0

ENV KAFKA_ADVERTISED_LISTENERS="INTERNAL://localhost:9191,EXTERNAL://localhost:9092"
ENV KAFKA_AUTHORIZER_CLASS_NAME="kafka.security.auth.SimpleAclAuthorizer"
ENV KAFKA_BROKER_ID="1"
ENV KAFKA_CONFLUENT_LICENSE_TOPIC_REPLICATION_FACTOR="1"
ENV KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR="1"
ENV KAFKA_DELETE_TOPIC_ENABLE="true"
ENV KAFKA_INTER_BROKER_LISTENER_NAME="INTERNAL"
ENV KAFKA_LISTENER_NAME_EXTERNAL_PLAIN_SASL_JAAS_CONFIG="org.apache.kafka.common.security.plain.PlainLoginModule required username=\"kafka\" password=\"kafka\" user_kafka=\"kafka\";"
ENV KAFKA_LISTENER_NAME_INTERNAL_PLAIN_SASL_JAAS_CONFIG="org.apache.kafka.common.security.plain.PlainLoginModule required username=\"kafka\" password=\"kafka\" user_kafka=\"kafka\";"
ENV KAFKA_LISTENER_SECURITY_PROTOCOL_MAP="INTERNAL:SASL_PLAINTEXT,EXTERNAL:SASL_PLAINTEXT"
ENV KAFKA_LISTENERS="INTERNAL://0.0.0.0:9191,EXTERNAL://0.0.0.0:9092"
ENV KAFKA_SASL_ENABLED_MECHANISMS="PLAIN"
ENV KAFKA_SASL_MECHANISM_INTER_BROKER_PROTOCOL="PLAIN"
ENV KAFKA_SUPER_USERS="User:kafka"
ENV KAFKA_ZOOKEEPER_CONNECT="0.0.0.0:2181"
